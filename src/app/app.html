<header class="app-header">
  <div class="brand">
    <span class="brand-mark"></span>
    <div>
      <div class="brand-name">AuditX</div>
      <div class="brand-subtitle">Enterprise Audit Workspace</div>
    </div>
  </div>
  <div class="nav-shell" *ngIf="showNav">
    <div class="nav-surface">
      <nav class="app-nav">
        <a
          routerLink="/dashboard"
          routerLinkActive="active"
          *ngIf="auth.role() !== 'Super Admin'"
        >
          Dashboard
        </a>
        <a
          routerLink="/audit-plan"
          routerLinkActive="active"
          *ngIf="auth.role() !== 'Super Admin'"
        >
          Audit Plan
        </a>
        <a
          routerLink="/audit-manage"
          routerLinkActive="active"
          *ngIf="auth.role() !== 'Super Admin'"
        >
          Audit Manage
        </a>
        <a
          routerLink="/audit-perform"
          routerLinkActive="active"
          *ngIf="auth.role() !== 'Super Admin'"
        >
          Audit Perform
        </a>
        <a
          routerLink="/nc-management"
          routerLinkActive="active"
          *ngIf="auth.role() !== 'Super Admin'"
        >
          NC Management
        </a>
        <a
          routerLink="/templates"
          routerLinkActive="active"
          *ngIf="auth.role() !== 'Super Admin' && auth.role() !== 'Auditor'"
        >
          Templates
        </a>
        <a routerLink="/reports" routerLinkActive="active">Reports</a>
        <a
          routerLink="/user-management"
          routerLinkActive="active"
          *ngIf="auth.role() !== 'Manager' && auth.role() !== 'Auditor'"
        >
          User Management
        </a>
        <a
          routerLink="/settings"
          routerLinkActive="active"
          *ngIf="auth.role() !== 'Super Admin' && auth.role() !== 'Auditor'"
        >
          Settings
        </a>
      </nav>
    </div>
    <button class="logout" type="button" (click)="logout()" *ngIf="auth.isLoggedIn()">
      Logout
    </button>
  </div>
</header>

<div class="loader-overlay" *ngIf="loading.isLoading()">
  <div class="loader-card">
    <span class="spinner" aria-hidden="true"></span>
    <span>Loading...</span>
  </div>
</div>

<main class="app-main">
  <router-outlet></router-outlet>
</main>
