<section class="audit-plan">
  <header class="plan-header">
    <div>
      <p class="eyebrow">Audit planning</p>
      <h1>Audit plan details</h1>
      <p class="subtitle">Capture the key details needed to manage the audit plan.</p>
    </div>
    <div class="header-actions">
      <button class="ghost">Save draft</button>
      <button class="primary">Submit for review</button>
    </div>
  </header>

  <form class="plan-form">
    <div class="field">
      <label>Start Date <span class="req">*</span></label>
      <input type="date" required />
    </div>
    <div class="field">
      <label>End Date <span class="req">*</span></label>
      <input type="date" required />
    </div>
    <div class="field">
      <label>Audit Type <span class="req">*</span></label>
      <select required>
        <option value="">Select audit type</option>
        <option *ngFor="let type of auditTypes" [value]="type">{{ type }}</option>
      </select>
    </div>
    <div class="field">
      <label>Audit Subtype</label>
      <input type="text" placeholder="Optional subtype" />
    </div>
    <div class="field">
      <label>Auditor Name</label>
      <input type="text" placeholder="Optional auditor name" />
    </div>
    <div class="field">
      <label>Department</label>
      <input type="text" placeholder="Optional department" />
    </div>
    <div class="field">
      <label>Location (City)</label>
      <input
        type="text"
        list="city-list"
        placeholder="Select or type city"
        [disabled]="!selectedCountry"
      />
      <datalist id="city-list">
        <option *ngFor="let city of cities" [value]="city"></option>
      </datalist>
    </div>
    <div class="field">
      <label>Site</label>
      <input type="text" placeholder="Configured in settings" />
      <small>Optional. Sites are configured in Settings.</small>
    </div>
    <div class="field">
      <label>Country</label>
      <select [(ngModel)]="selectedCountry" name="country">
        <option value="">Select country</option>
        <option value="India">India</option>
        <option value="USA">USA</option>
        <option value="Canada">Canada</option>
      </select>
    </div>
    <div class="field">
      <label>Region</label>
      <input type="text" placeholder="Configured in settings" />
      <small>Optional. Regions are configured in Settings.</small>
    </div>
    <div class="field full">
      <label>Audit Note</label>
      <textarea
        rows="6"
        maxlength="100"
        placeholder="Add up to 100 characters"
        (input)="updateNoteChars(note.value)"
        #note
      ></textarea>
      <div class="note-meta">
        <span>Optional. Add context or special instructions.</span>
        <span [class.limit]="noteChars >= 100">{{ noteChars }}/100 characters</span>
      </div>
    </div>
  </form>
</section>
